<!DOCTYPE html>
<html>
<head>
    <title>Get Your Key</title>
    <style>
        body { font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto; padding: 20px; }
        .container { background: #f5f5f5; padding: 20px; border-radius: 10px; }
        button { background: #4CAF50; color: white; padding: 10px 15px; border: none; border-radius: 5px; cursor: pointer; }
        #keyResult { margin-top: 20px; padding: 10px; background: #e7f3fe; border-radius: 5px; }
    </style>
</head>
<body>
    <div class="container">
        <h1>Get Your License Key</h1>
        <p>Click the button below to generate your key:</p>
        <button onclick="generateKey()">Generate Key</button>
        <div id="keyResult"></div>
        <p style="margin-top: 20px; font-size: 14px; color: #666;">
            Key will be valid for 24 hours. Copy it and enter in the Roblox game.
        </p>
    </div>

    <script>
        async function generateKey() {
            const btn = document.querySelector('button');
            const resultDiv = document.getElementById('keyResult');
            
            btn.disabled = true;
            btn.textContent = 'Generating...';
            resultDiv.innerHTML = 'Please wait...';
            
            try {
                // Ganti dengan URL Apps Script Anda
                const response = await fetch('https://script.google.com/macros/s/AKfycbx0KHz_UbnLx6SVPV9LXsRyK5_LU5YGI2aO5skC-8PxTsE18hmirTcAdoWM5KT94IaBDw/exec', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        api_key: 'RYDEV_SECRET_KEY_2025',
                        action: 'generate',
                        user: 'Website User',
                        userId: 'web_' + Math.random().toString(36).substr(2, 9)
                    })
                });
                
                const data = await response.json();
                
                if (data.success) {
                    resultDiv.innerHTML = `
                        <strong>Your Key:</strong> 
                        <input type="text" value="${data.key}" readonly style="width: 100%; padding: 5px; margin: 5px 0;">
                        <button onclick="copyKey()">Copy Key</button>
                        <p>Expires: ${new Date(data.expiry).toLocaleString()}</p>
                    `;
                } else {
                    resultDiv.innerHTML = `Error: ${data.message}`;
                }
            } catch (error) {
                resultDiv.innerHTML = 'Error generating key. Please try again.';
            } finally {
                btn.disabled = false;
                btn.textContent = 'Generate Key';
            }
        }
        
        function copyKey() {
            const input = document.querySelector('#keyResult input');
            input.select();
            document.execCommand('copy');
            alert('Key copied to clipboard!');
        }
    </script>
</body>
  </html>
